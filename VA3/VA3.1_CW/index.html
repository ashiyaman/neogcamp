<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Travel Bucket List</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>

<body>
  <header class="container py-2">
    <h1>Travel Bucket List</h1>
  </header>
  <section class="container py-2">
    <div class="input-group mb-3">
      <input id="destinationInput" class="form-control"/>
      <button id="addDestination" class="btn btn-primary">Add</button>
    </div>
    <ul id="bucketList"></ul>
    <div><p id="visitedCount"></p></div>
  </section>

  <script>
    const destinationInput = document.getElementById("destinationInput")
    const addDestination = document.getElementById("addDestination")
    const bucketList = document.getElementById("bucketList")
    const visitedCount = document.getElementById("visitedCount")
    let visitedPlacesCount = 0

    addDestination.addEventListener("click", function(){
      const listElement = document.createElement("li")
      listElement.innerHTML = `<p><input type="checkbox" id="destinationCheckbox" class="mx-2" onChange="countVisitedPlaces(this)"/>${destinationInput.value} <button onClick="deleteDestination(this)" class="btn btn-danger btn-sm mx-5">Delete</button></p>`
      bucketList.appendChild(listElement)
    })

    function deleteDestination(deleteBtn){
      const listItem = deleteBtn.parentElement.parentElement   
      if(listItem.childNodes[0].childNodes[0].checked){
        visitedPlacesCount -= 1
        updateCountView()
      }
      listItem.remove()
    }

    function countVisitedPlaces(checkbox){
      if(checkbox.checked){
        visitedPlacesCount += 1
      }
      else{
        visitedPlacesCount -= 1
      }
      updateCountView()     
    }

    function updateCountView(){
       visitedCount.textContent = `Visited Places Count: ${visitedPlacesCount}`
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
  </script>
</body>

</html>