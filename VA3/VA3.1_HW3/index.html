<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>replit</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>

<body>
  <header class="container">
    <h1>Poll Voting</h1>
  </header>
  <main class="container">
    <section>
      <label for="johnDoe">John Doe:
        <input type="radio" name="contestant" value="John Doe"/>
      </label><br>
      <label for="alexWilliam">Alex William:
        <input type="radio" name="contestant" value="Alex William"/>
      </label><br>
      <label for="preraranaNawar">Prerana Nawar:
        <input type="radio" name="contestant" value="Prerana Nawar"/>
      </label><br><br>
      <button type="button" id="voteBtn" class="btn btn-primary">Vote</button>
    </section><br>
    <section>
      <h4>Results:</h4>
      <ul id="results" class="list-group"></ul>
    </section>
    <section>
      <h4>Winner:</h4>
      <p id="winner"></p>
    </section>
  </main>

  <script>    
    const voteBtn = document.getElementById("voteBtn")
    const results = document.getElementById("results")
    const winner = document.getElementById("winner")
    let johnDoeVoteCount = 0
    let alexWilliamVoteCount = 0
    let preranaNawarVoteCount = 0
    voteBtn.addEventListener("click", function(){
      const selectedContestant = document.querySelector('input[name="contestant"]:checked').value
      const listItem = document.createElement("li")
      listItem.classList.add("list-group-item")
      if(selectedContestant === "John Doe"){        
        if(johnDoeVoteCount === 0){
          johnDoeVoteCount += 1 
          listItem.innerHTML = `
          <p id="${selectedContestant} Result">${selectedContestant}: ${johnDoeVoteCount}</p>`   
          results.appendChild(listItem)
        }
        else{
          johnDoeVoteCount += 1 
          let contestantResult = document.getElementById("John Doe Result")
          contestantResult.textContent = `${selectedContestant}: ${johnDoeVoteCount}`
        }               
      }
      else if(selectedContestant === "Alex William"){        
          if(alexWilliamVoteCount === 0){
            alexWilliamVoteCount += 1 
            listItem.innerHTML = `
            <p id="${selectedContestant} Result">${selectedContestant}: ${alexWilliamVoteCount}</p>`   
            results.appendChild(listItem)
          }
          else{
            alexWilliamVoteCount += 1 
            let contestantResult = document.getElementById("Alex William Result")
            contestantResult.textContent = `${selectedContestant}: ${alexWilliamVoteCount}`
          }               
        }
      else{       
        if(preranaNawarVoteCount === 0){
          preranaNawarVoteCount += 1 
          listItem.innerHTML = `
          <p id="${selectedContestant} Result">${selectedContestant}: ${preranaNawarVoteCount}</p>`   
          results.appendChild(listItem)
        }
        else{
          preranaNawarVoteCount += 1 
          let contestantResult = document.getElementById("Prerana Nawar Result")
          contestantResult.textContent = `${selectedContestant}: ${preranaNawarVoteCount}`
        }            
      }
      displayWinner()
    })

    function displayWinner(){
      console.log(johnDoeVoteCount, alexWilliamVoteCount, preranaNawarVoteCount)
      if(johnDoeVoteCount > alexWilliamVoteCount && johnDoeVoteCount > preranaNawarVoteCount){
        winner.textContent = `John Doe is winning with ${johnDoeVoteCount} votes!`
      }
      else if(johnDoeVoteCount === alexWilliamVoteCount && johnDoeVoteCount > preranaNawarVoteCount){
        winner.textContent = `It's a tie between John Doe and Alex William!`
      }
      else if(alexWilliamVoteCount > johnDoeVoteCount && alexWilliamVoteCount > preranaNawarVoteCount){
          winner.textContent = `Alex William is winning with ${alexWilliamVoteCount} votes!`
        }
      else if(alexWilliamVoteCount === preranaNawarVoteCount && alexWilliamVoteCount > johnDoeVoteCount){
          winner.textContent = `It's a tie between Alex William and Prerana Nawar!`
        }
      else if(preranaNawarVoteCount > johnDoeVoteCount && preranaNawarVoteCount > alexWilliamVoteCount){
        winner.textContent = `Prerana Nawar is winning with ${preranaNawarVoteCount} votes!`
      }
      else if(preranaNawarVoteCount === johnDoeVoteCount && preranaNawarVoteCount > alexWilliamVoteCount){
        winner.textContent = `It's a tie between John Doe and Prerana Nawar!`
      }
      else {
        winner.textContent = `It's a tie between all three of them!`
      }
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>