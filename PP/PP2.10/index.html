<!DOCTYPE html>
<html>
    <head>
        <title>PP2.10</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    </head>
    <body class="container mt-3">
        <h2 class="my-3">Voting</h2>
        <div class="my-3">
            <span class="mx-2"><label><input type="radio" name="vote" value="John" class="mx-1"/>Vote for John</label></span>
            <span class="mx-2"><label><input type="radio" name="vote" value="Alice" class="mx-1"/>Vote for Alice</label></span>
            <button class="btn btn-primary" id="voteBtn">Vote</button>
        </div>
        <div class="my-3 row">
            <div class="col-md-6">
                <h3>Vote count for John:</h3>
                <p id="johnResult">0</p>
            </div>
            <div class="col-md-6">
                <h3>Vote count for Alice:</h3>
                <p id="aliceResult">0</p>
            </div>
        </div>
        <div class="my-3">
            <h3>Current Winner:</h3>
            <p id="winner">No votes yet!</p>
        </div>

        <script>
            
            const voteBtn = document.querySelector("#voteBtn")
            let johnResult = document.querySelector("#johnResult")
            let aliceResult = document.querySelector("#aliceResult")
            const winner = document.querySelector("#winner")
            let johnCount = 0
            let aliceCount = 0

            const displayVotes = (name, numVotes) => {
                name.textContent = numVotes
            }

            voteBtn.addEventListener("click", (event) => {
                event.preventDefault()
                const vote = document.querySelector('input[name="vote"]:checked')
                vote.value === "John" ? johnCount += 1 : aliceCount += 1
                vote.value === "John" ? displayVotes(johnResult, johnCount) : displayVotes(aliceResult, aliceCount)
                winner.textContent = (johnCount === aliceCount) ? 
                    `It's a tie with ${johnCount} vote${johnCount > 1 ? "s" : ""} each!` :
                    ((johnCount > aliceCount) ? 
                        `John is winning with ${johnCount} vote${johnCount > 1 ? "s!" : "!"}` :
                        `Alice is winning with ${aliceCount} vote${aliceCount > 1 ? "s!" : "!"}`)
            })
        </script>
    </body>
</html>